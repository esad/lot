<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Lot</title>
    <script type="text/javascript" src="zem/zem.js"></script>
    <script type="text/javascript" src="zem/zem.parser.js"></script>
    <link rel="stylesheet" href="app.css" type="text/css" />
  </head>
  <body>
    <script type="text/javascript" src="App.js"></script>
    <script type="text/javascript" src="patches.js"></script>
    <script type="text/javascript">
      var app = Elm.fullscreen(Elm.App, {
        z3: "/z3-emscripten/z3.js"
      });

      // Handle focus
      app.ports.focus.subscribe(function(state) {
        var getEl = function() { return document.querySelectorAll('.editing input')[0]; }
        if (state) {
          setTimeout(function() {
            var el = getEl();
            el.focus();
            var i = el.value.length;
            el.setSelectionRange(i, i);
          },50);
        } else {
          var el = getEl();
          if (el) el.blur();
        }
      });
    </script>
  </body>
</html>
